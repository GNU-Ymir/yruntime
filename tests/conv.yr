mod conv;

use std::conv;

__test {
    let x = to![c32] (12);
    let y = to!{[c8]} (879);

    let z = (12345).to!{[c8], "x"} ();
    let a = (12345).to!{[c8], "b"} ();
    let b = (12345).to!{[c8], "o"} ();
    let c = (12345).to!{[c8], 5us} ();

    assert (x == "12"s32, "Conversion error to c32");
    assert (y == "879", "Conversion error to c8");
    assert (z == "0x3039", "Conversion error z");
    assert (a == "0b11000000111001", "Conversion error a");
    assert (b == "0o30071", "Conversion error b");
    assert (c == "343340", "Conversion error c");
}


// __test {
//     let x = to![c32] (-12);
//     let y = (-879).to![c8] ();

//     let z = (-12345).to!{[c8], "x"} ();
//     let a = (-12345).to!{[c8], "b"} ();
//     let b = (-12345).to!{[c8], "o"} ();
//     let c = (-12345).to!{[c8], 5us} ();

//     assert (x == "-12"s32, "Conversion error to c32");
//     assert (y == "-879", "Conversion error to c8");
//     assert (z == "-0x3039", "Conversion error z");
//     assert (a == "-0b11000000111001", "Conversion error a");
//     assert (b == "-0o30071", "Conversion error b");
//     assert (c == "-343340", "Conversion error c");
// }
