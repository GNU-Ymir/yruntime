in atom;


mod YRTAtomic {class T} {
    pub extern (C) {
        fn _yrt_atomic_monitor_enter (object : T);
        fn _yrt_atomic_monitor_exit (object : T);
    }
}


pub extern (C) {
    fn _yrt_lock_global ();
    fn _yrt_unlock_global ();
}

pub fn atomicMonitorEnter {class T} (object : T)-> void {
    YRTAtomic!{T}::_yrt_atomic_monitor_enter (object);
}

pub fn atomicMonitorExit {class T} (object : T)-> void {
    YRTAtomic!{T}::_yrt_atomic_monitor_exit (object);
}
